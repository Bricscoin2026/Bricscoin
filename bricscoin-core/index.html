<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BricsCoin Core</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,sans-serif;background:#000;color:#fff;min-height:100vh;overflow-x:hidden}
#matrix-bg{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;opacity:0.4}
.app{position:relative;z-index:1;min-height:100vh;background:radial-gradient(ellipse at top,rgba(0,30,0,0.3) 0%,transparent 50%)}
.container{max-width:1100px;margin:0 auto;padding:20px 25px}
.header{display:flex;align-items:center;justify-content:space-between;padding:18px 0;border-bottom:1px solid rgba(0,255,0,0.15);margin-bottom:20px}
.logo-section{display:flex;align-items:center;gap:15px}
.logo-img{width:55px;height:55px;border-radius:50%;border:2px solid rgba(0,255,0,0.4);box-shadow:0 0 20px rgba(0,255,0,0.3)}
.logo-text h1{font-size:24px;background:linear-gradient(135deg,#00ff00,#00cc00);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.logo-text span{color:rgba(255,255,255,0.4);font-size:11px;letter-spacing:2px}
.connection-status{display:flex;align-items:center;gap:8px;padding:8px 16px;background:rgba(0,255,0,0.08);border:1px solid rgba(0,255,0,0.2);border-radius:20px}
.status-dot{width:8px;height:8px;border-radius:50%;background:#00ff00;box-shadow:0 0 8px #00ff00}
.connection-status span{color:#00ff00;font-size:12px}
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:15px;margin-bottom:20px}
.stat-card{background:linear-gradient(135deg,rgba(0,50,0,0.4),rgba(0,30,0,0.2));border:1px solid rgba(0,255,0,0.15);border-radius:14px;padding:18px;text-align:center}
.stat-value{font-size:24px;font-weight:bold;color:#00ff00;font-family:monospace}
.stat-label{font-size:10px;color:rgba(255,255,255,0.5);text-transform:uppercase;letter-spacing:1px;margin-top:6px}
.nav-tabs{display:flex;gap:6px;margin-bottom:20px;background:rgba(0,20,0,0.4);padding:6px;border-radius:14px;border:1px solid rgba(0,255,0,0.1)}
.nav-tab{flex:1;padding:12px 18px;background:transparent;border:none;border-radius:8px;color:rgba(255,255,255,0.6);cursor:pointer;font-size:13px;font-weight:600;transition:all 0.3s}
.nav-tab:hover{background:rgba(0,255,0,0.08);color:#fff}
.nav-tab.active{background:linear-gradient(135deg,rgba(0,255,0,0.2),rgba(0,180,0,0.15));color:#00ff00;border:1px solid rgba(0,255,0,0.3)}
.card{background:linear-gradient(180deg,rgba(0,40,0,0.35),rgba(0,20,0,0.25));border:1px solid rgba(0,255,0,0.12);border-radius:16px;padding:22px;margin-bottom:18px}
.card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;padding-bottom:12px;border-bottom:1px solid rgba(0,255,0,0.1)}
.card-title{font-size:16px;font-weight:600;display:flex;align-items:center;gap:10px}
.card-icon{width:32px;height:32px;background:linear-gradient(135deg,rgba(0,255,0,0.2),rgba(0,180,0,0.1));border-radius:10px;display:flex;align-items:center;justify-content:center;color:#00ff00}
.form-group{margin-bottom:14px}
.form-label{display:block;font-size:11px;color:rgba(255,255,255,0.5);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
input,select,textarea{width:100%;padding:12px 16px;background:rgba(0,0,0,0.4);border:1px solid rgba(0,255,0,0.15);border-radius:10px;color:#fff;font-size:13px;font-family:inherit}
input:focus,select:focus,textarea:focus{outline:none;border-color:#00ff00;box-shadow:0 0 15px rgba(0,255,0,0.1)}
textarea{resize:vertical;min-height:70px}
.btn{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;border:none;border-radius:10px;font-size:13px;font-weight:600;cursor:pointer;transition:all 0.3s}
.btn-primary{background:linear-gradient(135deg,#00ff00,#00cc00);color:#000}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,255,0,0.3)}
.btn-secondary{background:rgba(0,255,0,0.1);color:#00ff00;border:1px solid rgba(0,255,0,0.3)}
.btn-secondary:hover{background:rgba(0,255,0,0.2)}
.btn-danger{background:linear-gradient(135deg,#ff3333,#cc0000);color:#fff}
.btn-sm{padding:8px 14px;font-size:11px}
.btn-group{display:flex;gap:8px;flex-wrap:wrap}
.wallet-list{display:flex;flex-direction:column;gap:12px}
.wallet-card{background:linear-gradient(135deg,rgba(0,50,0,0.3),rgba(0,30,0,0.2));border:1px solid rgba(0,255,0,0.15);border-radius:14px;padding:18px}
.wallet-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.wallet-name{font-size:16px;font-weight:600}
.wallet-balance{font-size:20px;font-weight:bold;color:#00ff00}
.wallet-balance span{font-size:12px;color:rgba(0,255,0,0.7)}
.wallet-address{font-family:monospace;font-size:10px;color:#00ff00;background:rgba(0,0,0,0.4);padding:10px 12px;border-radius:8px;word-break:break-all;margin-bottom:8px}
.wallet-seed{font-family:monospace;font-size:9px;color:#ff6666;background:rgba(255,0,0,0.08);padding:10px 12px;border-radius:8px;border:1px solid rgba(255,0,0,0.2);margin-bottom:10px}
.wallet-seed::before{content:'‚ö†Ô∏è SEED: ';font-weight:bold}
.wallet-actions{display:flex;gap:6px;flex-wrap:wrap}
.empty-state{text-align:center;padding:40px;color:rgba(255,255,255,0.4)}
.blocks-table{width:100%;border-collapse:collapse}
.blocks-table th{padding:10px;text-align:left;font-size:10px;text-transform:uppercase;color:rgba(255,255,255,0.4);border-bottom:1px solid rgba(0,255,0,0.1)}
.blocks-table td{padding:12px 10px;font-family:monospace;font-size:11px;border-bottom:1px solid rgba(0,255,0,0.05)}
.block-height{color:#00ff00;font-weight:bold}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:100;align-items:center;justify-content:center}
.modal.show{display:flex}
.modal-content{background:linear-gradient(180deg,rgba(0,40,0,0.95),rgba(0,20,0,0.95));border:1px solid rgba(0,255,0,0.2);border-radius:16px;padding:25px;max-width:450px;width:90%}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.modal-title{font-size:18px;font-weight:bold;color:#00ff00}
.modal-close{background:none;border:none;color:#fff;font-size:20px;cursor:pointer}
.qr-container{background:#fff;padding:15px;border-radius:10px;display:inline-block;margin:12px 0}
.tx-list{max-height:250px;overflow-y:auto}
.tx-item{display:flex;align-items:center;justify-content:space-between;padding:10px;border-bottom:1px solid rgba(0,255,0,0.05)}
.tx-amount{font-family:monospace;font-weight:bold}
.tx-amount.in{color:#00ff00}
.tx-amount.out{color:#ff6666}
#toast{position:fixed;bottom:25px;right:25px;background:linear-gradient(135deg,#00ff00,#00cc00);color:#000;padding:14px 24px;border-radius:12px;font-weight:600;display:none;z-index:200}
#toast.error{background:linear-gradient(135deg,#ff4444,#cc0000);color:#fff}
.page{display:none}
.page.active{display:block}
.version{text-align:center;padding:15px;color:rgba(255,255,255,0.2);font-size:10px}
.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:18px}
@media(max-width:700px){.grid-2,.stats-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<canvas id="matrix-bg"></canvas>
<div class="app">
<div class="container">

<header class="header">
  <div class="logo-section">
    <img src="https://bricscoin26.org/bricscoin-logo.png" class="logo-img" onerror="this.style.display='none'">
    <div class="logo-text">
      <h1>BRICSCOIN CORE</h1>
      <span>DESKTOP WALLET v2.0</span>
    </div>
  </div>
  <div class="connection-status">
    <div class="status-dot"></div>
    <span>Connected</span>
  </div>
</header>

<div class="stats-grid">
  <div class="stat-card"><div class="stat-value" id="s-supply">-</div><div class="stat-label">Circulating</div></div>
  <div class="stat-card"><div class="stat-value" id="s-blocks">-</div><div class="stat-label">Block Height</div></div>
  <div class="stat-card"><div class="stat-value" id="s-diff">-</div><div class="stat-label">Difficulty</div></div>
  <div class="stat-card"><div class="stat-value" id="s-reward">50</div><div class="stat-label">Block Reward</div></div>
</div>

<nav class="nav-tabs">
  <button class="nav-tab active" onclick="tab(0)">üíº Wallet</button>
  <button class="nav-tab" onclick="tab(1)">üì§ Send</button>
  <button class="nav-tab" onclick="tab(2)">üì• Receive</button>
  <button class="nav-tab" onclick="tab(3)">üîó Blocks</button>
</nav>

<!-- WALLET -->
<div id="p0" class="page active">
  <div class="grid-2">
    <div class="card">
      <div class="card-header"><div class="card-title"><div class="card-icon">+</div>Create Wallet</div></div>
      <div class="form-group"><label class="form-label">Name</label><input id="new-name" placeholder="My Wallet"></div>
      <button class="btn btn-primary" onclick="createWallet()">Create New Wallet</button>
    </div>
    <div class="card">
      <div class="card-header"><div class="card-title"><div class="card-icon">‚Üì</div>Import Wallet</div></div>
      <div class="form-group"><label class="form-label">Name</label><input id="imp-name" placeholder="Imported Wallet"></div>
      <div class="form-group"><label class="form-label">Seed Phrase (12 words)</label><textarea id="imp-seed" placeholder="word1 word2 word3..."></textarea></div>
      <button class="btn btn-secondary" onclick="importWallet()">Import Wallet</button>
    </div>
  </div>
  <div class="card">
    <div class="card-header"><div class="card-title"><div class="card-icon">‚óÜ</div>Your Wallets</div><button class="btn btn-sm btn-secondary" onclick="loadWallets()">‚Üª</button></div>
    <div id="wallet-list" class="wallet-list"><div class="empty-state">No wallets. Create one above!</div></div>
  </div>
</div>

<!-- SEND -->
<div id="p1" class="page">
  <div class="card">
    <div class="card-header"><div class="card-title"><div class="card-icon">‚Üí</div>Send BRICS</div></div>
    <div class="form-group"><label class="form-label">From</label><select id="send-from"><option value="">Select wallet...</option></select></div>
    <div class="form-group"><label class="form-label">Balance</label><div id="send-bal" style="font-size:20px;color:#00ff00;font-weight:bold">- BRICS</div></div>
    <div class="form-group"><label class="form-label">To Address</label><input id="send-to" placeholder="BRICS..."></div>
    <div class="form-group"><label class="form-label">Amount</label><input type="number" id="send-amt" placeholder="0.00" step="0.01"></div>
    <button class="btn btn-primary" onclick="sendTx()">Send Transaction</button>
  </div>
</div>

<!-- RECEIVE -->
<div id="p2" class="page">
  <div class="card">
    <div class="card-header"><div class="card-title"><div class="card-icon">‚Üì</div>Receive BRICS</div></div>
    <div class="form-group"><label class="form-label">Select Wallet</label><select id="recv-sel" onchange="showRecv()"><option value="">Select...</option></select></div>
    <div id="recv-info" style="display:none;text-align:center;padding:20px">
      <p style="color:rgba(255,255,255,0.6);margin-bottom:12px">Share this address:</p>
      <div class="qr-container"><canvas id="qr" width="150" height="150"></canvas></div>
      <div style="margin-top:12px"><input id="recv-addr" readonly style="text-align:center;font-family:monospace;font-size:11px"></div>
      <button class="btn btn-secondary btn-sm" style="margin-top:12px" onclick="copyRecv()">üìã Copy Address</button>
    </div>
  </div>
  <div class="card" id="tx-card" style="display:none">
    <div class="card-header"><div class="card-title"><div class="card-icon">‚Üî</div>Transactions</div></div>
    <div id="tx-list" class="tx-list"></div>
  </div>
</div>

<!-- BLOCKS -->
<div id="p3" class="page">
  <div class="card">
    <div class="card-header"><div class="card-title"><div class="card-icon">‚ñ£</div>Recent Blocks</div><button class="btn btn-sm btn-secondary" onclick="loadBlocks()">‚Üª</button></div>
    <table class="blocks-table"><thead><tr><th>Height</th><th>Hash</th><th>Miner</th><th>Time</th></tr></thead><tbody id="blocks-body"><tr><td colspan="4" style="text-align:center;color:rgba(255,255,255,0.3)">Loading...</td></tr></tbody></table>
  </div>
</div>

<div class="version">BRICSCOIN CORE v2.0 ‚Ä¢ Desktop Wallet</div>
</div>
</div>

<div class="modal" id="del-modal">
  <div class="modal-content">
    <div class="modal-header"><div class="modal-title">‚ö†Ô∏è Delete Wallet</div><button class="modal-close" onclick="closeModal()">&times;</button></div>
    <p style="margin-bottom:15px;color:rgba(255,255,255,0.7)">Delete this wallet? Make sure you saved the seed!</p>
    <p style="color:#ff6666;font-weight:bold;margin-bottom:15px" id="del-name"></p>
    <div class="btn-group"><button class="btn btn-danger" onclick="confirmDel()">Delete</button><button class="btn btn-secondary" onclick="closeModal()">Cancel</button></div>
  </div>
</div>

<div id="toast"></div>

<script>
// Matrix background
(function(){const c=document.getElementById('matrix-bg'),x=c.getContext('2d');function r(){c.width=innerWidth;c.height=innerHeight}r();addEventListener('resize',r);const ch='0123456789ABCDEFabcdef‚Çø‚óÜ'.split(''),fs=14;let cols=Math.floor(c.width/fs),d=Array(cols).fill(0).map(()=>Math.random()*-100);setInterval(()=>{x.fillStyle='rgba(0,0,0,0.05)';x.fillRect(0,0,c.width,c.height);x.font=fs+'px monospace';for(let i=0;i<d.length;i++){x.fillStyle=`rgba(0,${150+Math.random()*100},0,${0.3+Math.random()*0.5})`;x.fillText(ch[Math.floor(Math.random()*ch.length)],i*fs,d[i]*fs);if(d[i]*fs>c.height&&Math.random()>0.975)d[i]=0;d[i]++}},50)})();

// Simple QR
function drawQR(t){const c=document.getElementById('qr'),x=c.getContext('2d'),s=150,cs=s/25;x.fillStyle='#fff';x.fillRect(0,0,s,s);x.fillStyle='#000';for(let i=0;i<25;i++)for(let j=0;j<25;j++){const cc=t.charCodeAt((i*25+j)%t.length);if((i<7&&j<7)||(i<7&&j>17)||(i>17&&j<7)){const pi=i<7?i:(i>17?i-18:0),pj=j<7?j:(j>17?j-18:0);if(pi===0||pi===6||pj===0||pj===6||(pi>=2&&pi<=4&&pj>=2&&pj<=4))x.fillRect(j*cs,i*cs,cs,cs)}else if((cc+i*j)%2===0)x.fillRect(j*cs,i*cs,cs,cs)}}

let wallets=[],delAddr=null;

function tab(i){document.querySelectorAll('.nav-tab').forEach((t,n)=>t.classList.toggle('active',n===i));document.querySelectorAll('.page').forEach((p,n)=>p.classList.toggle('active',n===i))}
function toast(m,e){const t=document.getElementById('toast');t.textContent=m;t.className=e?'error':'';t.style.display='block';setTimeout(()=>t.style.display='none',3500)}
function closeModal(){document.getElementById('del-modal').classList.remove('show')}

async function loadStats(){try{const s=await bc.stats();if(s){document.getElementById('s-supply').textContent=(s.circulating_supply||0).toLocaleString();document.getElementById('s-blocks').textContent=(s.total_blocks||0).toLocaleString();document.getElementById('s-diff').textContent=s.current_difficulty||0;document.getElementById('s-reward').textContent=s.current_reward||50}}catch{}}

async function loadBlocks(){try{const b=await bc.blocks();document.getElementById('blocks-body').innerHTML=b.length?b.map(x=>`<tr><td class="block-height">#${x.index}</td><td>${(x.hash||'').slice(0,16)}...</td><td style="color:rgba(0,255,0,0.7)">${(x.miner||'?').slice(0,14)}...</td><td style="color:rgba(255,255,255,0.4)">${new Date(x.timestamp).toLocaleString()}</td></tr>`).join(''):'<tr><td colspan="4" style="text-align:center;color:rgba(255,255,255,0.3)">No blocks</td></tr>'}catch{}}

async function loadWallets(){try{wallets=await bc.wallets()||[];const l=document.getElementById('wallet-list'),sf=document.getElementById('send-from'),rs=document.getElementById('recv-sel');sf.innerHTML='<option value="">Select...</option>';rs.innerHTML='<option value="">Select...</option>';if(!wallets.length){l.innerHTML='<div class="empty-state">No wallets. Create one above!</div>';return}l.innerHTML=wallets.map(w=>`<div class="wallet-card"><div class="wallet-header"><div class="wallet-name">${w.name}</div><div class="wallet-balance">${(w.balance||0).toLocaleString()} <span>BRICS</span></div></div><div class="wallet-address">${w.address}</div><div class="wallet-seed">${w.seedPhrase}</div><div class="wallet-actions"><button class="btn btn-sm btn-secondary" onclick="goSend('${w.address}')">Send</button><button class="btn btn-sm btn-secondary" onclick="goRecv('${w.address}')">Receive</button><button class="btn btn-sm btn-danger" onclick="delWallet('${w.address}','${w.name}')">Delete</button></div></div>`).join('');wallets.forEach(w=>{sf.innerHTML+=`<option value="${w.address}">${w.name} (${w.balance||0})</option>`;rs.innerHTML+=`<option value="${w.address}">${w.name}</option>`})}catch(e){console.error(e)}}

async function createWallet(){const n=document.getElementById('new-name').value.trim()||'My Wallet';try{await bc.newwallet(n);toast('‚úÖ Wallet created!');document.getElementById('new-name').value='';loadWallets()}catch(e){toast('‚ùå '+e.message,1)}}

async function importWallet(){const n=document.getElementById('imp-name').value.trim()||'Imported',s=document.getElementById('imp-seed').value.trim();if(!s||s.split(/\s+/).length<12){toast('‚ö†Ô∏è Enter 12 words',1);return}try{await bc.importwallet(n,s);toast('‚úÖ Wallet imported!');document.getElementById('imp-name').value='';document.getElementById('imp-seed').value='';loadWallets()}catch(e){toast('‚ùå '+e.message,1)}}

function delWallet(a,n){delAddr=a;document.getElementById('del-name').textContent=n;document.getElementById('del-modal').classList.add('show')}
async function confirmDel(){if(!delAddr)return;try{await bc.deletewallet(delAddr);toast('‚úÖ Deleted');closeModal();delAddr=null;loadWallets()}catch(e){toast('‚ùå '+e.message,1)}}

function goSend(a){document.getElementById('send-from').value=a;updBal();tab(1)}
function goRecv(a){document.getElementById('recv-sel').value=a;showRecv();tab(2)}

document.getElementById('send-from').onchange=updBal;
function updBal(){const a=document.getElementById('send-from').value,w=wallets.find(x=>x.address===a);document.getElementById('send-bal').textContent=w?(w.balance||0)+' BRICS':'- BRICS'}

async function sendTx(){const f=document.getElementById('send-from').value,t=document.getElementById('send-to').value,a=document.getElementById('send-amt').value;if(!f||!t||!a){toast('‚ö†Ô∏è Fill all fields',1);return}try{await bc.send(f,t,a);toast('‚úÖ Sent!');document.getElementById('send-to').value='';document.getElementById('send-amt').value='';loadWallets()}catch(e){toast('‚ùå '+e.message,1)}}

async function showRecv(){const a=document.getElementById('recv-sel').value,info=document.getElementById('recv-info'),tc=document.getElementById('tx-card');if(!a){info.style.display='none';tc.style.display='none';return}document.getElementById('recv-addr').value=a;drawQR(a);info.style.display='block';try{const tx=await bc.transactions(a);if(tx&&tx.length){tc.style.display='block';document.getElementById('tx-list').innerHTML=tx.slice(0,10).map(x=>{const inc=x.recipient===a;return`<div class="tx-item"><span style="font-size:18px">${inc?'‚Üì':'‚Üë'}</span><span style="font-size:10px;color:rgba(255,255,255,0.5)">${inc?'From':'To'}: ${(inc?x.sender:x.recipient||'').slice(0,18)}...</span><span class="tx-amount ${inc?'in':'out'}">${inc?'+':'-'}${x.amount}</span></div>`}).join('')}else tc.style.display='none'}catch{tc.style.display='none'}}

function copyRecv(){const a=document.getElementById('recv-addr').value;if(a){bc.copy(a);toast('üìã Copied!')}}

document.getElementById('new-name').onkeypress=e=>{if(e.key==='Enter')createWallet()};
loadStats();loadBlocks();loadWallets();
setInterval(loadStats,10000);setInterval(loadBlocks,30000);
</script>
</body>
</html>
